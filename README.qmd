```{r}
#| label: setup
#| include: false

library(groomr) # https://github.com/danielvartan/groomr
```

# LogoClim

<!-- badges: start -->
[![Project Status: Active – The project has reached a stable, usable state and is being actively developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)
[![CoMSES Network](https://img.shields.io/badge/CoMSES%20Network-Placeholder-%233884B8.svg)](https://www.comses.net/)
[![fair-software.eu](https://img.shields.io/badge/fair--software.eu-Placeholder-green.svg)](https://fair-software.eu)
[![CII Best Practices](https://img.shields.io/badge/openssf%20best%20practices-Placeholder-green.svg)](https://bestpractices.coreinfrastructure.org/)
[![License: MIT](https://img.shields.io/badge/license-MIT-green)](https://choosealicense.com/licenses/mit/)
[![Contributor Covenant](https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg)](CODE_OF_CONDUCT.md)
<!-- badges: end -->

## Overview

`LogoClim` is a NetLogo submodel (a model to use with other models) designed for simulating and visualizing climate conditions, serving as a useful tool for exploring historical and projected climate data. Its primary goal is to promote the use of climate data in agent-based models and enhance the reproducibility of these simulations.

The model utilizes raster data to represent climate variables such as temperature and precipitation over time. It integrates historical data (1960–2021) and future climate projections (2021–2100) derived from various global climate models under different Shared Socioeconomic Pathways ([SSPs](https://en.wikipedia.org/wiki/Shared_Socioeconomic_Pathways)).

Climate data in `LogoClim` is based on [WorldClim 2.1](https://worldclim.org/), which compiles interpolated data from weather stations worldwide ([Fick and Hijmans, 2017](https://doi.org/10.1002/joc.5086); [Harris et al., 2020](https://doi.org/10.1038/s41597-020-0453-3)). Future projections are informed by multiple climate models and various SSPs, providing data at several spatial resolutions for a detailed representation of climate variables.

![LogoClim Interface](images/logoclim-interface.png)

## How It Works

The model operates on a grid of patches, where each patch corresponds to a geographical area and holds a value for a chosen climate variable (e.g., minimum temperature, maximum temperature, precipitation). The model loads data for the selected variable and time period (either historical or future). As the simulation runs, patches update their colors based on the data values: darker shades represent lower values, while lighter shades indicate higher ones. The results are visualized on a map, alongside plots showing mean, minimum, maximum, and standard deviation of the selected variable over time.

## Data Series

The model can simulate the three climate data series provided by [WorldClim 2.1](https://worldclim.org/):

### Historical Climate Data

This dataset, covering the period 1970–2000, provides monthly climate data for minimum, mean, and maximum temperature, precipitation, solar radiation, wind speed, and vapor pressure.

Learn more [here](https://www.worldclim.org/data/cmip6/cmip6climate.html).

### Historical Monthly Weather Data

Downscaled data from [CRU-TS-4.06](https://crudata.uea.ac.uk/cru/data/hrg/cru_ts_4.06/) by the Climatic Research Unit at the University of East Anglia. It includes average minimum temperature, average maximum temperature, and total precipitation.

Learn more [here](https://www.worldclim.org/data/monthlywth.html).

### Future Climate Data

This series includes downscaled climate projections from [CMIP6](https://www.wcrp-climate.org/wgcm-cmip/wgcm-cmip6) models. Projections cover four [SSPs](https://en.wikipedia.org/wiki/Shared_Socioeconomic_Pathways): 126, 245, 370, and 585, with data available for minimum and maximum temperature, and precipitation.

Learn more [here](https://www.worldclim.org/data/cmip6/cmip6climate.html).

## How to Use It

### Installation

First, install [NetLogo](https://ccl.northwestern.edu/netlogo). This model was developed using NetLogo 6.4, so it's recommended to use this version or higher. Download NetLogo [here](https://ccl.northwestern.edu/netlogo/download.shtml).

The model relies on the GIS [(`gis`](https://ccl.northwestern.edu/netlogo/docs/gis.html)) and SimpleR ([`sr`](https://github.com/NetLogo/SimpleR-Extension)) NetLogo extensions, which will be installed automatically.

Additionally, you'll need [R](https://www.r-project.org/) (version 4.1 or later) with the [`lubridate`](https://cran.r-project.org/package=lubridate), [`rJava`](https://cran.r-project.org/package=rJava), and [`stringr`](https://cran.r-project.org/package=stringr) packages. Ensure that the R executable is added to your system's [`PATH`](https://www.java.com/en/download/help/path.html) environment variable. To install the necessary packages, run the following in your R console:

```r
install.packages(c("rJava", "stringr", "lubridate"))
```

### Downloading the model

You can download the latest version of the model [here](https://github.com/danielvartan/logoclim/releases/latest). Extract the files and locate `logoclim.nlogo` in the `nlogo` folder.

### Dowloading the data

`LogoClim` uses raster data to represent climate variables. While you can download the data directly from [WorldClim 2.1](https://worldclim.org/), we recommend using the dataset provided in the project's [OSF](https://doi.org/10.17605/OSF.IO/RE95Z) repository for compatibility.

The dataset is available in various spatial resolutions:

- 10 minutes (~340 km² at the equator)
- 5 minutes (~85 km² at the equator)
- 2.5 minutes (~21 km² at the equator)
- 30 seconds (~1 km² at the equator)

After downloading, extract the files into the `data` folder within the model's directory.

We suggest starting with the 10-minute resolution to verify that the model runs smoothly on your system before trying higher resolutions.

### Running the model

Once everything is set, open the NetLogo file and start exploring! Refer to the `Info` tab in the model for additional details.

To integrate `LogoClim` with other models, use the LevelSpace ([`ls`](https://ccl.northwestern.edu/netlogo/docs/ls.html)) NetLogo extension.

### Troubleshooting

Some users have reported errors related to the SimpleR ([`sr`](https://github.com/NetLogo/SimpleR-Extension)) extension. These issues are likely caused by either directory permission problems where the model is stored, or by the absence of the [`rJava`](https://cran.r-project.org/package=rJava) R package. Please ensure both of these are correctly configured before opening an issue.

In some cases, users may encounter an unknown error code when running the model for the first time. This could be related to your operating system. Typically, this issue can be resolved by trying to setup the model again.

We are actively working to improve the user experience and simplify these installation steps.

## Citation

If you use this model in your research, please consider citing it. We put significant effort into building and maintaining it.

To cite LogoClim in publications use:

Vartanian, D., Magalhães, A. R., & Carvalho, A. M. (2024). *LogoClim: WorldClim in NetLogo*. NetLogo model. [https://doi.org/10.17605/OSF.IO/EAPZU](https://doi.org/10.17605/OSF.IO/EAPZU)

A BibTeX entry for LaTeX users is:

```
@misc{vartanian2024,
  title = {{LogoClim: WorldClim in NetLogo}},
  author = {Vartanian, Daniel and Magalhães, Arthur Ramalho and Carvalho, Aline Martins},
  year = {2024},
  doi = {10.17605/OSF.IO/EAPZU},
  note = {NetLogo model},
}
```

## Contributing

We welcome contributions! You can submit bug reports, suggest improvements, or open a [Pull Request](https://github.com/danielvartan/logoclim/pulls).

By contributing, you agree to follow our [Contributor Code of Conduct](CODE_OF_CONDUCT.md).

## License

This project is licensed under the [MIT license](https://opensource.org/license/mit/).

## Acknowledgments

<a href="https://www.gov.br/cnpq/"><img src= "images/cnpq_v2017_rgb.png" height="40"/></a>

This project was supported by the Conselho Nacional de Desenvolvimento Científico e Tecnológico - Brazil ([CNPq](https://www.gov.br/cnpq/)).

<a href="https://github.com/sustentarea/" target="_blank"><img src= "images/sustentarea_logo.png" height="100"/></a>

`LogoClim` was developed with support from the Research and Extension Center [Sustentarea](https://github.com/sustentarea/) at the University of São Paulo ([USP](https://www.usp.br/)), and was initially created for a Sustentarea research project.

<br>

Become an `LogoClim` supporter!

Click [here](https://github.com/sponsors/danielvartan) to make a donation. Please indicate `LogoClim` in your donation message.
