# LogoClim <img src = "man/figures/logo.png" align="right" width="120" />

<!-- quarto render -->

<!-- badges: start -->
[![Project Status: Active – The project has reached a stable, usable state and is being actively developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)
[![OSF DOI](https://img.shields.io/badge/OSF-10.17605/OSF.IO/EAPZU-1284C5.svg)](https://doi.org/10.17605/OSF.IO/EAPZU)
[![CoMSES Network](https://img.shields.io/badge/CoMSES%20Network-Placeholder-%233884B8.svg)](https://www.comses.net/)
[![fair-software.eu](https://img.shields.io/badge/fair--software.eu-Placeholder-green.svg)](https://fair-software.eu)
[![FAIR checklist badge](https://fairsoftwarechecklist.net/badge.svg)](https://fairsoftwarechecklist.net/v0.2?f=21&a=32113&i=32001&r=123)
[![CII Best Practices](https://img.shields.io/badge/openssf%20best%20practices-Placeholder-green.svg)](https://bestpractices.coreinfrastructure.org/)
[![License: MIT](https://img.shields.io/badge/license-MIT-green)](https://choosealicense.com/licenses/mit/)
[![Contributor Covenant](https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg)](CODE_OF_CONDUCT.md)
<!-- badges: end -->

## Overview

`LogoClim` is a NetLogo model designed for simulating and visualizing climate conditions, providing a powerful tool for exploring historical and projected climate data. Its primary objective is to facilitate the integration of climate data into agent-based models and enhance the reproducibility of these simulations.

The model uses raster data to represent climate variables such as temperature and precipitation over time. It incorporates historical data (1960–2021) and future climate projections (2021–2100) derived from global climate models under various Shared Socioeconomic Pathways ([SSPs](https://en.wikipedia.org/wiki/Shared_Socioeconomic_Pathways)).

The climate data used in `LogoClim` is sourced from [WorldClim 2.1](https://worldclim.org/), which offers high-resolution interpolated data from weather stations worldwide ([Fick & Hijmans, 2017](https://doi.org/10.1002/joc.5086)). With resolutions as fine as ~1 km², the data is available at multiple spatial scales, ensuring a detailed and comprehensive representation of climate variables.

![LogoClim Interface](images/logoclim-interface.png)

## How It Works

`LogoClim` operates on a grid of patches, where each patch represents a geographical area and stores values for selected climate variables (e.g., Average temperature (°C)).

During the simulation, patches update their colors based on the data values: darker shades indicate lower values, while lighter shades represent higher values. The results are visualized on a map, accompanied by plots that display the mean, minimum, maximum, and standard deviation of the selected variable over time, providing a comprehensive view of climate trends.

### Color Scale

The model uses a color scale ranging from black (representing the lowest value) to white (representing the highest value). Users can adjust the thresholds for these colors using the `black-value` and `white-value` sliders. Alternatively, users can set the black or white color to automatically represent the minimum or maximum value of the current data by toggling the `black-min` and `white-max` switches. By default, the black threshold is set to 0, and the white threshold corresponds to the maximum value of the current data.

### Data Series

The model can simulate the three climate data series provided by [WorldClim 2.1](https://worldclim.org/).

#### Historical Climate Data

This series includes 12 monthly data points representing average climate conditions for the period 1970–2000. It provides information on minimum, mean, and maximum temperature, precipitation, solar radiation, wind speed, and vapor pressure, offering a comprehensive overview of historical climate patterns.

Learn more [here](https://www.worldclim.org/data/cmip6/cmip6climate.html).

#### Historical Monthly Weather Data

This series provides downscaled data from [CRU-TS-4.06](https://crudata.uea.ac.uk/cru/data/hrg/cru_ts_4.06/) by the Climatic Research Unit at the University of East Anglia. It includes monthly averages for minimum temperature, maximum temperature, and total precipitation, offering a detailed representation of historical weather patterns.

Learn more [here](https://www.worldclim.org/data/monthlywth.html).

#### Future Climate Data

This series includes downscaled climate projections from [CMIP6](https://www.wcrp-climate.org/wgcm-cmip/wgcm-cmip6) models. Projections cover four [SSPs](https://en.wikipedia.org/wiki/Shared_Socioeconomic_Pathways): 126, 245, 370, and 585, with data available for minimum temperature, maximum temperature, and total precipitation.

Learn more [here](https://www.worldclim.org/data/cmip6/cmip6climate.html).

## How to Use It

### Installation

To get started, ensure you have [NetLogo](https://ccl.northwestern.edu/netlogo) installed. This model was developed using NetLogo 6.4, so it's recommended to use this version or later. You can download it [here](https://ccl.northwestern.edu/netlogo/download.shtml).

The model relies on the GIS ([`gis`](https://ccl.northwestern.edu/netlogo/docs/gis.html)), pathdir ([`pathdir`](https://github.com/cstaelin/Pathdir-Extension)), SimpleR ([`sr`](https://github.com/NetLogo/SimpleR-Extension)), and string ([`string`](https://github.com/NetLogo/String-Extension)) NetLogo extensions, which will be installed automatically when you run the model.

You'll also need [R](https://www.r-project.org/) (version 4.4 or later) with the [`lubridate`](https://cran.r-project.org/package=lubridate), [`rJava`](https://cran.r-project.org/package=rJava), and [`stringr`](https://cran.r-project.org/package=stringr) packages. Make sure the R executable is added to your system's [`PATH`](https://www.java.com/en/download/help/path.html) environment variable. To install the required R packages, run the following command in your R console:

```r
install.packages(c("rJava", "stringr", "lubridate"))
```

### Downloading the Model

You can download the latest release of the model from [GitHub Releases](https://github.com/danielvartan/logoclim/releases/latest). To access the development version, clone or download this repository.

### Downloading the Data

`LogoClim` uses raster data to represent climate variables. While you can download the data directly from [WorldClim 2.1](https://worldclim.org/), we recommend using the dataset provided in the project's [OSF](https://doi.org/10.17605/OSF.IO/RE95Z) repository for compatibility.

The datasets are organized using [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) three-letter country codes and are available in multiple spatial resolutions:

- 10 minutes (~340 km² at the equator)
- 5 minutes (~85 km² at the equator)
- 2.5 minutes (~21 km² at the equator)
- 30 seconds (~1 km² at the equator)

After downloading, extract the files into the `data` folder within the model's directory.

We suggest starting with the 10-minute resolution to verify that the model runs smoothly on your system before trying higher resolutions.

These datasets can be reproduced by running the [Quarto](https://quarto.org/) notebooks located in the `qmd` folder. To create other datasets, simply modify the notebooks to suit your requirements.

### Running the Model

Once everything is set, open the `logoclim.nlogo` file located in the `nlogo` folder to start exploring the model!

Refer to the `Info` tab in the model for additional details.

To integrate `LogoClim` with other models, use the LevelSpace ([`ls`](https://ccl.northwestern.edu/netlogo/docs/ls.html)) NetLogo extension.

## Common Issues

Some users have reported errors related to the SimpleR ([`sr`](https://github.com/NetLogo/SimpleR-Extension)) NetLogo extension. These issues are likely caused by either directory permission problems where the model is stored, or by the absence of the [`rJava`](https://cran.r-project.org/package=rJava) R package. Please ensure both of these are correctly configured before opening an issue.

In some cases, users may encounter an unknown error code when running the model for the first time. This could be related to your operating system. Typically, this issue can be resolved by trying to setup the model again.

We are actively working to improve the user experience and simplify these installation steps.

## How to Cite

If you use this model in your research, please cite it to acknowledge the effort invested in its development and maintenance. Your citation helps support the ongoing improvement of the model.

To cite `LogoClim` in publications please use the following format:

Vartanian, D., & Carvalho, A. M. (2024). *LogoClim: WorldClim in NetLogo* [Software]. [https://doi.org/10.17605/OSF.IO/EAPZU](https://doi.org/10.17605/OSF.IO/EAPZU)

A BibTeX entry for LaTeX users is:

```latex
@misc{vartanian2025,
  title = {{LogoClim: WorldClim in NetLogo}},
  author = {{Daniel Vartanian} and and {Aline Martins Carvalho}},
  year = {2025},
  doi = {10.17605/OSF.IO/EAPZU},
  note = {NetLogo model},
}
```

## How to Contribute

[![](https://img.shields.io/static/v1?label=Sponsor&message=%E2%9D%A4&logo=GitHub&color=%23fe8e86)](https://github.com/sponsors/danielvartan)

Contributions are welcome! Whether it's reporting bugs, suggesting features, or improving documentation, your input is valuable.

You can also support the development of `LogoClim` by becoming a sponsor. Click [here](https://github.com/sponsors/danielvartan) to make a donation. Please mention `LogoClim` in your donation message.

## License

[![License:
MIT](https://img.shields.io/badge/license-MIT-green)](https://opensource.org/license/mit)

The `LogoClim` code is licensed under the [MIT License](https://opensource.org/license/mit). This means you can use, modify, and distribute the code freely, as long as you include the original license and copyright notice in any copies or substantial portions of the software.

## Acknowledgments

We gratefully acknowledge the contributions of [Stephen E. Fick](https://orcid.org/0000-0002-3548-6966), [Robert J. Hijmans](https://orcid.org/0000-0001-5872-2872), and the entire [WorldClim](https://worldclim.org/) team for their dedication to creating and maintaining the WorldClim datasets. Their work has been instrumental in enabling researchers and practitioners to access high-quality climate data.

We also acknowledge the [World Climate Research Programme (WCRP)](https://www.wcrp-climate.org/), which, through its Working Group on Coupled Modelling, coordinated and promoted the [Coupled Model Intercomparison Project Phase 6 (CMIP6)](https://pcmdi.llnl.gov/CMIP6/).

We thank the climate modeling groups for producing and sharing their model outputs, the [Earth System Grid Federation (ESGF)](https://esgf.llnl.gov/) for archiving and providing access to the data, and the many funding agencies that support CMIP6 and ESGF.

```{r}
#| echo: false
#| output: asis

htmltools::tags$table(
  htmltools::tags$tr(
    htmltools::tags$td(
      htmltools::tags$br(),
      htmltools::tags$br(),
      htmltools::tags$p(
        htmltools::tags$a(
          htmltools::tags$img(
            src = "images/sustentarea-logo.svg",
            width = 125
          ),
          href = "https://www.fsp.usp.br/sustentarea/"
        ),
        align = "center"
      ),
      htmltools::tags$br(),
      width = "30%"
    ),
    htmltools::tags$td(
      htmltools::tags$p(
        htmltools::tags$code("LogoClim"),
        "was developed with support from the Research and ",
        "Extension Center ",
        htmltools::tags$a(
          "Sustentarea",
          href = "https://www.fsp.usp.br/sustentarea/"
        ),
        " at the University of São Paulo (",
        htmltools::tags$a(
          "USP",
          href = "https://www5.usp.br/",
          .noWS = "outside"
        ),
        ")."
      ),
      width = "70%"
    )
  )
) |>
  knitr::raw_html()

htmltools::tags$table(
  htmltools::tags$tr(
    htmltools::tags$td(
      htmltools::tags$br(),
      htmltools::tags$p(
        htmltools::tags$a(
          htmltools::tags$img(
            src = "images/cnpq-logo.svg",
            width = 150
          ),
          href = "https://www.gov.br/cnpq/"
        ),
        align = "center"
      ),
      htmltools::tags$br(),
      width = "30%"
    ),
    htmltools::tags$td(
      htmltools::tags$p(
        "This project was supported by the Conselho Nacional de ",
        "Desenvolvimento Científico e Tecnológico - Brazil (",
        htmltools::tags$a(
          "CNPq",
          href = "https://www.gov.br/cnpq/",
          .noWS = "outside"
        ),
        ")."
      ),
      width = "70%"
    )
  )
) |>
  knitr::raw_html()
```
